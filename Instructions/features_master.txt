FEATURES_MASTER.txt
====================

FULL MASTER FEATURE LIST FOR ANYLOGIC PLE 8.9.6
================================================
This file merges:
 - All implemented simulation features  
 - All requested features  
 - All A+B+C+D+E feature packs  
 - All optional / advanced behaviors  
 - PLE-safe notes for each feature  

Structured into:
  1. CORE SIMULATION  
  2. VISUAL SYSTEM (PLE-SAFE)  
  3. PATIENT LOGIC  
  4. FACILITY & QUEUE LOGIC  
  5. GAMEPLAY FEATURES  
  6. AUDIO & FEEDBACK  
  7. FEATURE PACKS (A+B+C+D+E) FULL DESCRIPTION  
  8. BLOCKED FEATURES (NOT POSSIBLE IN PLE)  
  9. FINAL GAMEPLAY SUMMARY  

===================================================
1. CORE SIMULATION
===================================================
These mechanisms are fully PLE-compatible:

‚úî Full Java-driven engine (SimulationEngine)  
‚úî World boundaries defined by WORLD_W x WORLD_H  
‚úî Smooth movement via On step recurrence (~0.1h)  
‚úî No Canvas, no GUI drawing ‚Üí pure logic  
‚úî Position update, bouncing, facility targeting  
‚úî Deterministic + random movement modes  
‚úî Supports multiple facilities  
‚úî Supports large patient populations  

===================================================
2. VISUAL SYSTEM (PLE-SAFE)
===================================================
STRICT RULES FOLLOWED:
----------------------
‚úî Only runtime-created shapes:
    ShapeOval, ShapeRectangle, ShapeImage, ShapeText, ShapeGroup  

‚úî All visuals live under:
    Main ‚Üí Presentation ‚Üí level  

‚úî 100% PLE-safe:
    - No Canvas  
    - No On draw  
    - No paint(Graphics2D)  
    - No custom Shape subclasses  
    - No enterprise constructors  
    - No getPresentation(), getModel()  

VISUALS PROVIDED:
------------------
‚úî Patients as ShapeOval (fallback)  
‚úî Patients as ShapeImage (if images available)  
‚úî Facilities as rectangles or PNG icons  
‚úî Color-coded health states:
      susceptible ‚Üí amber
      infected ‚Üí light red
      contagious ‚Üí saturated red
      recovered ‚Üí green

‚úî Pulsing facility color  
‚úî Queue counters above facilities  
‚úî Scoreboard ShapeText on screen  

OPTIONAL VISUAL ENHANCEMENTS:
------------------------------
‚úî Halo effect: extra soft oval behind patient  
‚úî Emoji icons / sprite PNGs  
‚úî Confusion bubbles ‚Äúüí´‚Äù for near-collisions  
‚úî Dark mode background  
‚úî Facility overload shaking  

===================================================
3. PATIENT LOGIC
===================================================
STATE MACHINE:
---------------
Each patient has:
‚Ä¢ susceptible  
‚Ä¢ infected  
‚Ä¢ contagious  
‚Ä¢ recovered  
‚Ä¢ hospitalized  
‚Ä¢ severity (0 mild, 1 moderate, 2 severe)

MOVEMENT:
----------
‚úî Wander movement  
‚úî Targeted movement toward facility  
‚úî Bouncing within world box  
‚úî Speed modified by severity  
‚úî Fear scatter: run away if contagious patient is near  

INFECTION:
-----------
‚úî Radius-based infection spread  
‚úî Incubation timer  
‚úî Contagious timer  
‚úî Recovery timer  
‚úî Recovered = immune  

BEHAVIOR:
----------
‚úî Stop moving when hospitalized (hide shape)  
‚úî Queue until space available  
‚úî Seek alternative facility if first is full  
‚úî Visual confusion bubble during collision events  

ADVANCED OPTIONS:
------------------
‚úî Personality profiles (fast, slow, chaotic)  
‚úî Flocking behavior  
‚úî Contact tracing logs  

===================================================
4. FACILITY & QUEUE LOGIC
===================================================
FACILITY OBJECT:
----------------
Properties:
‚Ä¢ x, y  
‚Ä¢ type (‚ÄúPHC‚Äù, ‚ÄúPrivate‚Äù)  
‚Ä¢ capacity  
‚Ä¢ currentPatients  
‚Ä¢ queue size  
‚Ä¢ overload detection  

FACILITY FEATURES:
------------------
‚úî Nearest facility targeting  
‚úî Arrival threshold  
‚úî Hospitalization removes patient from field  
‚úî Dynamic queue text: ‚ÄúQ: 3/10‚Äù  
‚úî Facility pulses when crowded  
‚úî Facility full ‚Üí sound + visual highlight  
‚úî Next-best facility fallback  

ADVANCED OPTIONS:
------------------
‚úî Multiple queues (triage, waiting, treatment)  
‚úî Doctor agent (service rate)  
‚úî Treatment delays & stochastic durations  

===================================================
5. GAMEPLAY FEATURES
===================================================
CURRENT GAME LOGIC:
--------------------
‚úî Scoreboard on screen  
‚úî Points:
     +10 per recovered  
     -20 when facility overloaded  
     -5 per new infection  

‚úî Global alarm when infections exceed threshold  
‚úî Real-time color cues  

OPTIONAL GAMEPLAY (PLE-SAFE):
------------------------------
‚úî Buttons (optional, but code-first preferred):
     addPatients()
     lockdownMode()
     festivalMode()
     spawnSpike()

‚úî Seasonal spikes  
‚úî Difficulty scaling  
‚úî Mobile unit ambulance  
‚úî Leaderboard system  
‚úî Achievements:
     ‚ÄúZero Spread Day‚Äù
     ‚ÄúCrisis Controlled‚Äù
     ‚ÄúOverflow Disaster‚Äù  

===================================================
6. AUDIO & FEEDBACK
===================================================
AUDIO SYSTEM:
--------------
‚úî WAV playback via AudioSystem  
‚úî Fallback ‚Üí Toolkit.beep()  

EVENT SOUNDS:
---------------
‚úî arrival.wav ‚Üí patient admitted  
‚úî hosp_full.wav ‚Üí facility full  
‚úî alarm.wav ‚Üí outbreak uncontrolled  

OPTIONAL:
----------
‚úî ‚Äúlevel-up‚Äù recovery sound  
‚úî festival-mode sound  
‚úî ambient low-volume hum  

===================================================
7. FEATURE PACKS A+B+C+D+E (FULL)
===================================================

A ‚Äî FILM-MODE DRAMA PACK
-------------------------
‚úî Infection halo  
‚úî Fear scatter (run away)  
‚úî Facility overload shaking  
‚úî Optional dark mode  
‚úî Cinematic color states  

B ‚Äî HEALTH SYSTEM SIM PACK
----------------------------
‚úî Severity classes  
‚úî Facility switching when full  
‚úî Discharge + fade  
‚úî Staff efficiency modifier (optional)

C ‚Äî GAME MODE PACK
-------------------
‚úî Scoring system  
‚úî Spawn/festival/lockdown toggles  
‚úî Random outbreak events  

D ‚Äî DATA ANALYTICS PACK
-------------------------
‚úî TimePlots / XYPlots (simple PLE-safe)  
‚úî CSV logging of patient outcomes  
‚úî Weekly summary statistics  

E ‚Äî CUTE MODE PACK
--------------------
‚úî Emoji-based patients  
‚úî Emoji facilities  
‚úî Confusion animation  
‚úî Mini-icons everywhere  

===================================================
8. FEATURES BLOCKED IN PLE (DO NOT ATTEMPT)
===================================================
‚úò Canvas  
‚úò On draw  
‚úò paint(Graphics2D)  
‚úò Custom Shape subclasses  
‚úò Convert shapes to Java  
‚úò getPresentation(), getModel()  
‚úò Enterprise-only ShapeImage constructors  
‚úò Multiple presentation layers  
‚úò package statements in Java  

===================================================
9. FINAL GAMEPLAY SUMMARY
===================================================
Your final target system combines:

‚ñ∫ MOVEMENT  
   - wandering/towards facility  
   - bouncing  
   - severity-based speed  
   - fear reaction  

‚ñ∫ INFECTION MODEL  
   - radius spread  
   - incubation ‚Üí contagious ‚Üí recovery  
   - severity classification  

‚ñ∫ QUEUES  
   - nearest facility  
   - capacity  
   - overflow & switching  
   - hospitalization  

‚ñ∫ VISUALS  
   - color states  
   - halos  
   - icons  
   - scoreboard  
   - pulsing facilities  

‚ñ∫ FEEDBACK  
   - dynamic scoring  
   - alarms  
   - full audio system  
   - confusion icons  

This entire system is 100% PLE-safe:
 - No Canvas  
 - No paint()  
 - No packages  
 - No enterprise APIs  
 - All visuals are runtime-created  
===================================================
10. GLOBAL AESTHETIC & AUTOMATION REQUIREMENT
===================================================
This simulation must behave visually like a CLEAN, SMOOTH, STREAM-WORTHY GAME.

To guarantee this, any AI agent involved in development (AG, ChatGPT, or others)
must follow these rules when adding, generating, or selecting ANY of the following:

   ‚Ä¢ Sounds (arrival, alarms, notifications)
   ‚Ä¢ Shape images (patients, facilities, icons)
   ‚Ä¢ Animations (movement, halo effects, pulses)
   ‚Ä¢ Visual assets (PNG/WEBP resources)
   ‚Ä¢ Audio assets (WAV/OGG resources)

REQUIREMENTS FOR ALL AI-SELECTED/GATHERED ASSETS:
--------------------------------------------------
1) **Aesthetic Quality**
   - Assets must be cute, clean, soft-edged, and non-pixelated.
   - No harsh neon, no glitchy edges.
   - Pixel scaling must never break or appear blurry when resized.

2) **Sound Quality**
   - Sounds must resemble mobile notification tones:
        ‚Ä¢ short
        ‚Ä¢ clean
        ‚Ä¢ pleasant
        ‚Ä¢ non-intrusive
   - No loud alarms unless specifically tagged as EMERGENCY.
   - All audio must be normalized to avoid volume spikes.

3) **Smooth Character Movement**
   - Movement must appear like a real-time game:
        ‚Ä¢ no jitter
        ‚Ä¢ no teleport jumps
        ‚Ä¢ constant frame-like updates
   - Halo/emoji animations must be smooth and fade/slide cleanly.

4) **Perfect Screen Fit**
   - The simulation must ALWAYS fit cleanly inside the visible window:
        WORLD_W and WORLD_H values must match the Presentation ‚Üí level size.
   - Experiment window size must be large enough to show the entire world.
   - No clipping, cropping, or partial visibility of patients or facilities.

5) **Game-Like Presentation**
   - Overall look must resemble a "live game being streamed."
   - Facilities pulse, patients move fluidly, infection halos glow softly.
   - Visual clarity must be maintained even with many agents on screen.

6) **Feature Panels (Open/Close Tabs)**
   - Game features like Scoreboard, Queues, System Stats, and Alerts
     must be modular and act like ‚Äúpanels‚Äù:
        ‚Ä¢ Each panel should be easily showable/hideable via a code flag.
        ‚Ä¢ Example:
              SHOW_SCOREBOARD = true
              SHOW_QUEUE_PANEL = false
        ‚Ä¢ These panels must not clutter the play area.

7) **Scoreboard as UI Panel**
   - The scoreboard (+10 recovered, -20 overloaded, -5 new infections)
     must appear as a neat, floating UI element in the corner.
   - It must be:
        ‚Ä¢ readable
        ‚Ä¢ minimalistic
        ‚Ä¢ non-obstructive
        ‚Ä¢ smoothly update every tick

8) **AI Automation Requirement**
   - Any AI agent modifying or extending the model MUST:
        ‚Ä¢ auto-select appropriate sounds/icons without user micromanagement
        ‚Ä¢ auto-generate fallback assets if files missing
        ‚Ä¢ ensure replacements remain cute, soft, and high-quality
        ‚Ä¢ ensure shapes don‚Äôt deform when scaled
        ‚Ä¢ validate that movements & visuals remain smooth
        ‚Ä¢ validate that screen-space fits cleanly before finalizing changes

This ensures the simulation always remains:
   ‚úî professional  
   ‚úî cute  
   ‚úî game-like  
   ‚úî clean  
   ‚úî fully viewable on any display  
   ‚úî smooth as an actual live-streamed game  
=====================================================================
USER PREFERENCE NOTE ‚Äî IMPLEMENT OPTIONS B, C, D, AND FAIL-SAFE F
=====================================================================

The user prefers the following features to be implemented:

**B ‚Äî Code-first auto-scaling (MANDATORY)**
- Auto-detect the actual `level` size (reflection-based, defensive).
- Compute scale factor between DESIRED_W/H and actual size.
- Scale all coordinates and sizes via helpers:
      sx(x), sy(y), ss(size)
- Scale patient radius and speeds automatically.
- No UI resizing required; simulation must fit screen via code only.
- 100% PLE-safe (no Canvas, no paint, no subclassing).

**C ‚Äî Visual smoothing (MANDATORY)**
- Smaller per-step movement for smooth animation.
- Cap max movement change to remove teleportation.
- Optional pulse effects with low amplitude.
- Make character movement look like a clean real-time game.

**D ‚Äî Modular panels / scoreboard (MANDATORY)**
- Scoreboard, queue panel, system stats must be modular panels.
- Each panel must be toggled with code flags:
      SHOW_SCOREBOARD, SHOW_QUEUE_PANEL, SHOW_STATS
- Panels must be built as ShapeGroup overlays.
- Panels must use sx/sy/ss scaling to fit any screen.

**F ‚Äî Fail-safe fallback (OPTIONAL but MUST exist)**
- If auto-scaling fails or viewport too small:
      PATIENT_RADIUS = 3.0
      PATIENT_BASE_SPEED = 1.8
      WORLD_W = 600
      WORLD_H = 380
- This ensures simulation never clips or becomes unreadable.

===================================================
END OF FILE
===================================================
